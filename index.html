    async function initEngine() {
        const logs = document.getElementById('logs');
        try {
            const response = await fetch('./lotto.txt');
            if (!response.ok) throw new Error('lotto.txt ë¡œë“œ ì‹¤íŒ¨');
            const text = await response.text();
            
            // [ìˆ˜ì •] ë§ˆì¹¨í‘œ(.)ì™€ ì‰¼í‘œ(,)ë¥¼ ëª¨ë‘ ìˆ«ìì˜ êµ¬ë¶„ìë¡œ ì¸ì‹í•˜ë„ë¡ ì •ê·œì‹ ê°•í™”
            const rows = text.trim().split('\n').map(row => {
                // ìˆ«ì ì´ì™¸ì˜ ëª¨ë“  ë¬¸ì(ë§ˆì¹¨í‘œ, ì‰¼í‘œ, ê³µë°± ë“±)ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë¶„ë¦¬
                return row.split(/[^0-9]/).filter(v => v !== "").map(Number);
            }).filter(r => r.length >= 7); // ë°ì´í„° ì•ˆì •ì„±ì„ ìœ„í•´ ìµœì†Œ 7ê°œ(íšŒì°¨+ë‹¹ì²¨6) ì´ìƒì´ë©´ ìˆ˜ì§‘

            if (rows.length === 0) throw new Error('ìœ íš¨í•œ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.');

            const lastRound = rows[0][0];
            analysisData.nextRound = lastRound + 1;

            // 1. ë¯¸ì¶œìˆ˜ ì¶”ì¶œ (ìµœê·¼ 30íšŒ ê¸°ì¤€, ë‹¹ì²¨ë²ˆí˜¸ + ë³´ë„ˆìŠ¤ê¹Œì§€ 7ê°œ ë²ˆí˜¸)
            const recent30 = rows.slice(0, 30);
            const appeared = new Set();
            
            recent30.forEach(r => {
                // r[0]ì€ íšŒì°¨ë²ˆí˜¸, r[1]~r[6]ì€ ë‹¹ì²¨ë²ˆí˜¸, r[7]ì€ ë³´ë„ˆìŠ¤
                for(let i = 1; i <= 7; i++) {
                    if(r[i]) appeared.add(r[i]);
                }
            });

            analysisData.missing = [];
            for(let i = 1; i <= 45; i++) {
                if(!appeared.has(i)) analysisData.missing.push(i);
            }

            let missingDisplayText = analysisData.missing.length > 0 
                ? analysisData.missing.join(', ') 
                : "ìµœê·¼ 30íšŒ ë‚´ ë¯¸ì¶œìˆ˜ ì—†ìŒ";

            // 2. ë¹ˆì¶œìˆ˜ (ìµœê·¼ 35íšŒ Base12 - ë³´ë„ˆìŠ¤ ì œì™¸ ìˆœìˆ˜ ë‹¹ì²¨ë²ˆí˜¸ ê¸°ì¤€)
            const recent35 = rows.slice(0, 35);
            const counts = {};
            recent35.forEach(r => {
                r.slice(1, 7).forEach(n => {
                    counts[n] = (counts[n] || 0) + 1;
                });
            });
            
            analysisData.base12 = Object.entries(counts)
                .sort((a,b) => b[1] - a[1])
                .slice(0, 12)
                .map(v => Number(v[0]));

            // 3. ë²ˆí˜¸ í’€ êµ¬ì„± (ë¹ˆì¶œìˆ˜ + ë¯¸ì¶œìˆ˜)
            analysisData.pool = Array.from(new Set([...analysisData.base12, ...analysisData.missing])).sort((a,b)=>a-b);

            // í™”ë©´ ì—…ë°ì´íŠ¸
            document.getElementById('header-info').innerText = `ğŸ¯ ì œ ${analysisData.nextRound}íšŒì°¨ ë¶„ì„ ì™„ë£Œ`;
            document.getElementById('genBtn').disabled = false;
            
            logs.innerHTML = `
                <div class="log-entry" style="color:#00ff00">â–¶ ë¶„ì„ ì—”ì§„ v3.6.1 íŒ¨ì¹˜ ì„±ê³µ</div>
                <div class="log-entry" style="color:#ffd700">
                    <strong>[ìµœê·¼ 30íšŒ ë¯¸ì¶œìˆ˜ ë¦¬ìŠ¤íŠ¸]</strong><br>
                    <span style="color:#fff; background:#e74c3c; padding:2px 10px; border-radius:15px; display:inline-block; margin-top:5px;">
                        ${missingDisplayText}
                    </span>
                </div>
                <div class="log-entry">â–¶ ì¶”ì¶œ ê°€ëŠ¥í•œ ë²ˆí˜¸ í’€: ${analysisData.pool.length}ê°œ ì„ ë³„</div>
                <div class="log-entry" style="font-size:12px; color:#888;">* ë§ˆì¹¨í‘œ(.) êµ¬ë¶„ì ë°ì´í„° ë³´ì • ì™„ë£Œ</div>
            `;

        } catch (err) {
            logs.innerHTML = `<div class="log-entry" style="color:red">â–¶ ì˜¤ë¥˜: ${err.message}</div>`;
        }
    }
